# AvitoTech
Микросервис предоставляет HTTP API для работы с баннерами пользователей. Реализованы следующие функции:
* Получение баннера для пользователя
* Получение всех баннеров с фильтрацией по фиче и/или тегу
* Создание нового баннера
* Обновление содержимого баннера
* Удаление баннера по индефикатору

Каждый запрос принимает JWT токен для авторизации доступа. Существует 2 вида токенов: пользовательский и админский. Баннер пользователя может получить как пользователь, так и админ. Все остальные запросы требуют токен администратора.

Были так же выполнены дополнительные функции:
* Начал писать unit тесты
* Написал интеграционный тест для разных сюжетов по получении баннера
* Описал конфигурацию линтера
* Добавил кэш в приложение, для ускорение получения ответа на самые популярные запросы

## Реализация

Микросервис разработан на Go. Для хранения информации используется реляционная СУБД - PostgreSQL. Сервис запускается в среде docker-compose, один контейнер для БД, другой для сервиса. Так же для интеграционных тестов можно поднять docker-compose с двумя контейнерами. Различие в том, что для тестов больше данных инициализируется в сервисе БД.

В качестве фреймворка для рутинга был выбран фреймворк [Fiber](https://github.com/gofiber/fiber). Он очень похож на другие рутинг фреймворки, но существенно выигрывает по скорости.

В качестве драйвера для работы с PostgreSQL на Go был выбран [PGX](https://github.com/jackc/pgx), как современное
и быстрое решение. В нем реализованно множество функций, как и в общем SQL, так и конкретно
PostgreSQL.

В качестве библиотеки для линтера был выбран [Golangci-lint](https://github.com/golangci/golangci-lint), потому что с помощью удобной конфигурации получилось добавить дополнительные проверки из других линтеров.


